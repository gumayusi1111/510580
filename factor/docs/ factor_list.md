# ETF因子库文档

## 📈 因子总览
- **总因子数**: 25个
- **因子分类**: 5大类
- **数据源**: OHLCV + 复权因子
- **适用标的**: ETF (510580.SH)

---

## 📊 移动均线类因子 - moving_average (5个)

| 因子目录 | 因子名称 | 复权类型 | 默认参数 | 输出字段 |
|---------|----------|----------|----------|----------|
| `SMA/` | 简单移动均线 | 后复权 | 5,10,20,60日 | SMA_5, SMA_10, SMA_20, SMA_60 |
| `EMA/` | 指数移动均线 | 后复权 | 5,10,20,60日 | EMA_5, EMA_10, EMA_20, EMA_60 |
| `WMA/` | 加权移动均线 | 后复权 | 5,10,20,60日 | WMA_5, WMA_10, WMA_20, WMA_60 |
| `MA_DIFF/` | 均线差值 | 后复权 | MA5-MA20, MA10-MA60 | MA_DIFF_5_20, MA_DIFF_10_60 |
| `MA_SLOPE/` | 均线斜率 | 后复权 | 5,10,20日 | MA_SLOPE_5, MA_SLOPE_10, MA_SLOPE_20 |

### 📊 趋势动量类因子 - trend_momentum (4个)

| 因子目录 | 因子名称 | 复权类型 | 默认参数 | 输出字段 |
|---------|----------|----------|----------|----------|
| `MACD/` | MACD指标 | 后复权 | 12,26,9 | MACD_DIF, MACD_DEA, MACD_HIST |
| `RSI/` | 相对强弱指标 | 后复权 | 6,14,24日 | RSI_6, RSI_14, RSI_24 |
| `ROC/` | 变动率 | 后复权 | 5,10,20日 | ROC_5, ROC_10, ROC_20 |
| `MOM/` | 动量指标 | 后复权 | 5,10,20日 | MOM_5, MOM_10, MOM_20 |

### 📉 波动率类因子 - volatility (8个)

| 因子目录 | 因子名称 | 复权类型 | 默认参数 | 输出字段 |
|---------|----------|----------|----------|----------|
| `TR/` | 真实波幅 | 后复权 | - | TR |
| `ATR/` | 平均真实波幅 | 后复权 | 14日 | ATR_14 |
| `ATR_PCT/` | ATR百分比 | 后复权 | 14日 | ATR_PCT_14 |
| `HV/` | 历史波动率 | 后复权 | 20,60日 | HV_20, HV_60 |
| `BOLL/` | 布林带 | 后复权 | 20日,2倍标准差 | BOLL_UPPER, BOLL_MID, BOLL_LOWER |
| `DC/` | 唐奇安通道 | 后复权 | 20日 | DC_UPPER, DC_LOWER |
| `BB_WIDTH/` | 布林带宽度 | 后复权 | 20日 | BB_WIDTH_20 |
| `STOCH/` | 随机震荡器 | 后复权 | 9日 | STOCH_K, STOCH_D |

### 📊 量价关系类因子 - volume_price (7个)

| 因子目录 | 因子名称 | 复权类型 | 默认参数 | 输出字段 |
|---------|----------|----------|----------|----------|
| `VMA/` | 成交量均线 | 不复权 | 5,10,20日 | VMA_5, VMA_10, VMA_20 |
| `VOLUME_RATIO/` | 量比 | 不复权 | 5日基准 | VOLUME_RATIO_5 |
| `OBV/` | 能量潮 | 后复权 | - | OBV |
| `KDJ/` | 随机指标 | 后复权 | 9日 | KDJ_K, KDJ_D, KDJ_J |
| `CCI/` | 顺势指标 | 后复权 | 14日 | CCI_14 |
| `WR/` | 威廉指标 | 后复权 | 14日 | WR_14 |
| `MFI/` | 资金流量指数 | 后复权 | 14日 | MFI_14 |

### 💰 收益风险类因子 - return_risk (4个)

| 因子目录 | 因子名称 | 复权类型 | 默认参数 | 输出字段 |
|---------|----------|----------|----------|----------|
| `DAILY_RETURN/` | 日收益率 | 后复权 | - | DAILY_RETURN |
| `CUM_RETURN/` | 累计收益率 | 后复权 | 5,20,60日 | CUM_RETURN_5, CUM_RETURN_20, CUM_RETURN_60 |
| `ANNUAL_VOL/` | 年化波动率 | 后复权 | 20,60日 | ANNUAL_VOL_20, ANNUAL_VOL_60 |
| `MAX_DD/` | 最大回撤 | 后复权 | 20,60日 | MAX_DD_20, MAX_DD_60 |

---

## 📋 使用说明

### 复权类型说明
- **后复权**: 使用hfq_*字段 (适合量化回测)
- **前复权**: 使用qfq_*字段 (适合当前分析)
- **不复权**: 使用原始字段 (成交量相关)

### 数据字段映射
```
基础字段: open, high, low, close, vol, amount, pre_close
复权字段: hfq_*, qfq_*
衍生字段: change, pct_chg, adj_factor
```

### 因子分类用途
- **移动均线类**: 趋势跟踪、支撑阻力
- **趋势动量类**: 买卖信号、超买超卖
- **波动率类**: 风险测量、突破信号
- **量价关系类**: 资金流向、确认信号
- **收益风险类**: 绩效评估、风控指标

*注：所有因子均可用现有OHLCV数据计算，无需额外数据源*
